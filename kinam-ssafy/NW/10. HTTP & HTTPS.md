# HTTP vs HTTPS

## HTTP와 HTTPS 비교

**핵심 차이**

  - **HTTP**: 암호화/인증 없음.
  - **HTTPS**: **TLS(SSL)** 암호화 및 인증 사용.

**URL 스킴**

  - HTTP: `http://`
  - HTTPS: `https://`

**보안**

  - HTTPS가 HTTP보다 훨씬 안전함.

<br>

-----

## HTTP (Hypertext Transfer Protocol)

### 특징

  - **하이퍼텍스트 전송 프로토콜**
  - 네트워크를 통해 데이터를 전송하는 프로토콜
  - 정보 표현을 위한 규정된 순서와 구문
  - 인터넷 대부분의 정보(웹 콘텐츠, API 호출) 전송에 사용
  - OSI 7계층 프로토콜

### HTTP 메시지

  - **HTTP 요청 (Request)**
      - 사용자가 웹 자산과 상호 작용 시 브라우저에서 생성
      - (예: 링크 클릭 시 "HTTP GET" 요청)
  - **HTTP 응답 (Response)**
      - 원본 서버가 HTTP 요청에 대해 응답

### HTTP 요청 예시 (일반 텍스트)

**보안 문제**

  - HTTP 요청은 프로토콜을 따르는 텍스트 줄임.
  - 연결을 모니터링하는 모든 사람이 **일반 텍스트**로 읽을 수 있음.
  - 민감 데이터(비밀번호, 신용카드) 제출 시(HTTP POST) 데이터가 그대로 노출됨.

<!-- end list -->

```
GET /hello.txt HTTP/1.1
User-Agent: curl/7.63.0 libcurl/7.63.0 OpenSSL/1.1.l zlib/1.2.11
Host: www.example.com
Accept-Language: en
```

### HTTP 응답 예시

```
HTTP/1.1 200 OK
Date: Wed, 30 Jan 2019 12:14:39 GMT
Server: Apache
Last-Modified: Mon, 28 Jan 2019 11:17:01 GMT
Accept-Ranges: bytes
Content-Length: 12
Vary: Accept-Encoding
Content-Type: text/plain

Hello World!
```

<br>

-----

## HTTPS (HTTP Secure)

### 특징

  - HTTPS의 S는 "**보안(Secure)**"을 의미
  - \*\*TLS(또는 SSL)\*\*를 사용하여 HTTP 요청과 응답을 암호화
  - 공격자는 일반 텍스트 대신 무작위 문자를 보게 됨

### 암호화된 요청 예시

```
t8Fw6T8UV81pQfyhDkhebbz7+oiwldr1j2gHBB3L3RFTRsQCpaSnSBZ78Vme+DpDVJPvZdZUZHpzbbcqmSW1+3xXGsERHg9YDmpYk0VVDiRvw1H5miNieJeJ/FNUjgH0BmVRWII6+T4MnDwmCMZUI/orxP3HGwYCSIvyzS3MpmmSe4iaWKCOHQ==
```

### 암호화 방식 (TLS/SSL)

  - **공개 키 암호화** 기술 사용
  - **공개 키**: 서버의 **SSL 인증서**를 통해 클라이언트와 공유
  - **개인 키**: 서버만 소유
  - 클라이언트와 서버가 연결 시, 공개/개인 키를 사용해 **세션 키** 생성에 동의
  - 이후 모든 통신은 이 **세션 키**로 암호화됨

### 서버 인증

  - **인증**: 대상이 주장하는 실체인지 확인하는 것 (HTTP는 신원 미확인)
  - 서버는 **개인 키** 소유를 증명하여 신원을 확인함
  - 클라이언트가 서버 연결 시, SSL 인증서의 공개 키와 짝이 맞는 개인 키를 서버가 가졌는지 확인
  - \*\*인증 기관(CA)\*\*이 SSL 인증서에 디지털 서명하여 신뢰 보장

**인증을 통한 공격 방지**

  - 경로상 공격
  - DNS 하이재킹
  - BGP 하이재킹
  - 도메인 스푸핑