# 🧱 1. 빌더 패턴 (Builder Pattern)

> **복잡한 객체를 단계적으로 조립하는 패턴**
> “레고 조립하듯이” 필요한 것만 선택해서 만들 때 쓰임.

---

## 🧠 핵심 개념

* 생성 과정이 복잡하거나 선택지가 많을 때
  → **단계별로 객체를 만들고 싶을 때 사용**
* 생성자를 너무 많은 옵션으로 만들면 가독성이 떨어짐
  → 빌더로 “조립하듯” 생성

---

## 🎨 비유

🍔 “햄버거 주문하기”

* 버거에

  * 패티 추가
  * 양상추 추가
  * 소스 변경
  * 치즈 추가
* 원하는 구성만 선택해서 최종 완성품 → 빌더 패턴

---

## 🔧 언제 쓰나?

* 옵션이 많은 객체 생성
* 생성자 매개변수가 많아서 헷갈릴 때
* “객체 만드는 과정”과 “완성된 객체”를 분리하고 싶을 때

---

## 💻 코드 예시 (Python)

```python
class Exhibition:
    def __init__(self, title, place=None, price=None, tags=None):
        self.title = title
        self.place = place
        self.price = price
        self.tags = tags or []

class ExhibitionBuilder:
    def __init__(self, title):
        self.title = title
        self.place = None
        self.price = None
        self.tags = []

    def set_place(self, place):
        self.place = place
        return self

    def set_price(self, price):
        self.price = price
        return self

    def add_tag(self, tag):
        self.tags.append(tag)
        return self

    def build(self):
        return Exhibition(self.title, self.place, self.price, self.tags)

# 사용
ex = (
    ExhibitionBuilder("모네 전시")
    .set_place("서울시립미술관")
    .set_price(15000)
    .add_tag("인상주의")
    .build()
)
```

---

# 📦 2. 커맨드 패턴 (Command Pattern)

> **요청을 객체로 캡슐화해, 실행/취소/재실행이 가능한 패턴**

---

## 🧠 핵심 개념

* 실행할 행동(명령)을 **객체로 만들어 저장**
* 명령을 “실행/취소/재실행” 가능
* 요청을 보내는 쪽과, 실제 일을 하는 쪽을 **완전히 분리**

---

## 🎨 비유

🎮 "게임에서 공격/방어/스킬 사용"

* 버튼(Invoker)은 단지 명령을 실행할 뿐
* 실제 공격·방어는 캐릭터(Receiver)가 처리
* 명령을 저장해 두면 “되돌리기(Undo)”도 가능

---

## 🔧 언제 쓰나?

* 작업을 “요청 객체”로 만들고 싶을 때
* **Undo / Redo 기능이 필요할 때**
* 실행할 작업을 큐로 쌓거나 로그로 남기고 싶을 때
* 한 번에 여러 작업을 묶어서 처리할 때

---

## 💻 코드 예시 (Python)

### 1) Receiver (실제로 작업하는 객체)

```python
class Light:
    def on(self):
        print("불 켜짐")
    def off(self):
        print("불 꺼짐")
```

### 2) Command (실행할 명령)

```python
class Command:
    def execute(self):
        pass

class LightOnCommand(Command):
    def __init__(self, light):
        self.light = light

    def execute(self):
        self.light.on()

class LightOffCommand(Command):
    def __init__(self, light):
        self.light = light

    def execute(self):
        self.light.off()
```

### 3) Invoker (명령 실행하는 객체)

```python
class RemoteControl:
    def run(self, command):
        command.execute()
```

### 4) 사용

```python
light = Light()
remote = RemoteControl()

remote.run(LightOnCommand(light))
remote.run(LightOffCommand(light))
```

---

# 🔥 빌더 vs 커맨드 비교

| 패턴      | 목적                | 포커스    | 비유       |
| ------- | ----------------- | ------ | -------- |
| **빌더**  | 복잡한 객체를 단계적으로 만들기 | 객체 생성  | 햄버거 조립   |
| **커맨드** | 요청을 캡슐화, 실행/취소 가능 | 행동(행위) | 게임 버튼 명령 |

---