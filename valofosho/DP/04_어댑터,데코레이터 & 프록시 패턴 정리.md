# 🔌 1. 어댑터 패턴(Adapter Pattern)

> **기존 코드를 바꾸지 않고, 인터페이스만 맞춰주는 변환기 역할**

### 🧠 핵심 개념

* 서로 **인터페이스가 다른 코드들을 이어주는 변환기**
* 예: 콘센트 110V → 220V 변환기
* 이미 작성된 라이브러리나 객체를 **우리 프로젝트 인터페이스에 맞춰 재사용할 때** 사용

### 📝 언제 쓰나?

* 기존에 있던 코드를 그대로 두고,
  “**함수 이름이나 구조를 바꾸지 않고** 새 코드에서 쓰고 싶을 때"
* 외부 API나 레거시 코드 연동할 때

### ⚙️ 예시 (Python)

```python
class OldPrinter:
    def old_print(self, msg):
        print(f"[OLD] {msg}")

class NewPrinterInterface:
    def print_message(self, msg):
        raise NotImplementedError

class PrinterAdapter(NewPrinterInterface):
    def __init__(self, old_printer):
        self.old_printer = old_printer

    def print_message(self, msg):
        self.old_printer.old_print(msg)

# 사용
printer = PrinterAdapter(OldPrinter())
printer.print_message("안녕!")
```

---

# 🎨 2. 데코레이터 패턴(Decorator Pattern)

> **기존 기능에 “추가 기능”을 붙이고 싶을 때 사용하는 포장(wrapper)**

### 🧠 핵심 개념

* 객체의 **기능을 확장하면서도 원래 코드를 수정하지 않음**
* “기능을 붙이는 순서”도 유연하게 사용 가능
* ex) 기본 커피 → 우유 추가 → 시럽 추가 → 휘핑 추가

### 📝 언제 쓰나?

* 공통 기능 (로깅, 인증, 캐싱, 성능 측정 등)을 붙이고 싶을 때
* Django의 `@login_required` 같은 데코레이터가 대표적

### ⚙️ 예시 (Python)

```python
def base():
    print("기본 기능")

def decorator(func):
    def wrapper():
        print("추가 기능 1")
        func()
        print("추가 기능 2")
    return wrapper

new_func = decorator(base)
new_func()
```

---

# 🛡 3. 프록시 패턴(Proxy Pattern)

> **대리인 역할 — 원본 객체를 직접 쓰기 전의 중간단계**
> (접근 제어, 캐싱, 로깅, 지연 로딩 등)

### 🧠 핵심 개념

* 어떤 객체에 **대리인을 세워서 대신 접근**시키는 방식
* 원본 객체는 무겁거나 민감해서
  “아무나 바로 접근하면 안 되는 경우” 사용

### 프록시의 대표 유형

* **가상 프록시**: 무거운 객체 생성 지연 (Lazy loading)
* **보호 프록시**: 권한 체크
* **캐싱 프록시**: 반복 호출을 캐싱
* **로깅 프록시**: 호출 전/후 로그 기록

### ⚙️ 예시 (Python)

```python
class RealImage:
    def load(self):
        print("고화질 이미지 로딩... (시간 오래 걸림)")

class ImageProxy:
    def __init__(self):
        self.real_image = None

    def load(self):
        if not self.real_image:
            self.real_image = RealImage()
        print("프록시를 통한 접근")
        self.real_image.load()

proxy = ImageProxy()
proxy.load()
```

---

# 🔥 3개 패턴 차이 한 번에 정리

| 패턴        | 역할       | 비유      | 목적                |
| --------- | -------- | ------- | ----------------- |
| **어댑터**   | 인터페이스 변환 | 돼지코 변환기 | 다른 형식끼리 연결        |
| **데코레이터** | 기능 확장    | 토핑 추가   | 기존 기능에 새로운 기능 붙이기 |
| **프록시**   | 대리인      | 경비원/비서  | 접근 제어/캐싱/지연 로딩    |

---