# 🧩 데이터 모델 & 스키마 정리

## 💡 1. 데이터 모델 (Data Model)

> **데이터 모델**이란, 데이터가 **어떻게 구조화되고**, **어떻게 상호 연관되어 있으며**, **어떻게 저장·관리되는지**를 정의한 **논리적 구조와 설계 방식**을 말합니다.

즉, “데이터를 추상화하여 표현한 설계도” 입니다.

---

## 🧱 2. 데이터 모델의 구성요소

| 구성요소                  | 설명                   | 예시                                       |
| --------------------- | -------------------- | ---------------------------------------- |
| **구조 (Structure)**    | 데이터의 논리적 구조와 관계 정의   | 테이블, 열(Column), 행(Row), 관계(Relationship) |
| **연산 (Operation)**    | 데이터에 수행 가능한 조작 정의    | SELECT, INSERT, UPDATE, DELETE           |
| **제약조건 (Constraint)** | 데이터의 무결성을 유지하기 위한 규칙 | PRIMARY KEY, FOREIGN KEY, NOT NULL       |

---

## 🧭 3. 데이터 모델의 3단계 구조 (ANSI/SPARC 3단계 구조)

> 데이터베이스를 세 가지 수준으로 나누어 설계하는 대표적인 구조

| 수준                               | 설명                          | 설계 주체     | 예시                   |
| -------------------------------- | --------------------------- | --------- | -------------------- |
| **1️⃣ 외부 모델 (External Model)**   | 사용자나 응용 프로그램 관점에서 보는 데이터 구조 | 사용자       | 뷰(View), UI에 표시되는 필드 |
| **2️⃣ 개념 모델 (Conceptual Model)** | 조직 전체의 데이터 통합 관점            | 설계자 (DBA) | ER 다이어그램(ERD)        |
| **3️⃣ 내부 모델 (Internal Model)**   | 실제 데이터가 저장되는 물리적 구조         | 시스템       | 인덱스, 파일 구조, 저장 경로    |

---

## 🧩 4. 데이터 모델의 종류

| 모델 종류                       | 설명                 | 대표 예시                             |
| --------------------------- | ------------------ | --------------------------------- |
| **개념적 데이터 모델 (Conceptual)** | 현실 세계를 추상화한 개념적 표현 | ER 모델 (Entity-Relationship Model) |
| **논리적 데이터 모델 (Logical)**    | 데이터베이스에 맞게 구조화한 설계 | 관계형 모델(Relational Model)          |
| **물리적 데이터 모델 (Physical)**   | 실제 저장 방식 정의        | 테이블, 인덱스, 파티션 구조 등                |

---

## 🧠 5. 데이터 모델링 (Data Modeling)

> 현실 세계의 데이터를 데이터베이스로 표현하기 위해 **데이터 구조를 설계하는 과정**

### 📋 주요 단계

| 단계          | 설명              | 결과물               |
| ----------- | --------------- | ----------------- |
| **개념적 모델링** | 업무 개념과 관계 도출    | ERD (개체-관계 다이어그램) |
| **논리적 모델링** | 관계형 DB 기준으로 구조화 | 테이블, 속성, 관계 정의    |
| **물리적 모델링** | DBMS에 맞게 실제 구현  | SQL DDL, 인덱스, 파티션 |

---

## 🔗 6. ER 모델 (Entity-Relationship Model)

> 개체(Entity), 속성(Attribute), 관계(Relationship)을 이용해 데이터 구조를 시각화한 모델

| 구성요소                  | 의미           | 예시               |
| --------------------- | ------------ | ---------------- |
| **Entity (개체)**       | 데이터를 저장할 객체  | `학생`, `강의`, `교수` |
| **Attribute (속성)**    | 개체의 구체적인 데이터 | `이름`, `학번`, `학과` |
| **Relationship (관계)** | 개체 간의 연관성    | `수강(학생-강의)`      |

### 🔹 ERD 예시

```
[학생] --- 수강 --- [강의]
  |학번|이름|학과|        |강의번호|강의명|
```

---

## 🧾 7. 스키마 (Schema)

> **스키마(Schema)** 는 데이터베이스의 **구조(Structure)** 를 정의한 청사진(Blueprint)입니다.
> 즉, 데이터베이스에 어떤 테이블이 있고, 그 테이블이 어떤 속성을 가지며, 관계가 어떻게 연결되는지를 명세한 **논리적 구조의 정의서** 입니다.

---

## ⚙️ 8. 스키마의 종류 (3단계 구조와 동일)

| 구분                             | 설명               | 예시                      |
| ------------------------------ | ---------------- | ----------------------- |
| **외부 스키마 (External Schema)**   | 개별 사용자 관점의 데이터 뷰 | `뷰(View)`               |
| **개념 스키마 (Conceptual Schema)** | 전체 DB의 논리적 구조    | `ERD`, `릴레이션 설계`        |
| **내부 스키마 (Internal Schema)**   | 물리적 저장 구조        | `인덱스`, `파일 경로`, `저장 포맷` |

---

## 🔐 9. 스키마와 인스턴스 (Schema vs Instance)

| 구분                  | 설명             | 예시                   |
| ------------------- | -------------- | -------------------- |
| **스키마 (Schema)**    | 데이터베이스의 구조(정의) | “테이블 설계도”            |
| **인스턴스 (Instance)** | 실제 저장된 데이터의 값  | “현재 테이블에 저장된 행(Row)” |

> 🧠 즉, **스키마는 틀**, **인스턴스는 실제 데이터**

---

## 🧱 10. 스키마 구성요소

| 구성요소                 | 설명           | 예시                       |
| -------------------- | ------------ | ------------------------ |
| **테이블(Table)**       | 데이터 저장 단위    | USERS, ORDERS            |
| **속성(Attribute)**    | 컬럼(열)        | user_id, name, email     |
| **도메인(Domain)**      | 속성의 값의 범위    | age → 0~120              |
| **키(Key)**           | 각 행을 구별하는 기준 | PRIMARY, FOREIGN, UNIQUE |
| **무결성 제약조건**         | 데이터 일관성 보장   | NOT NULL, CHECK, FK      |
| **관계(Relationship)** | 테이블 간 연결     | 1:N, N:M                 |

---

## 🧩 11. 스키마 예시 (SQL)

```sql
-- 사용자 테이블 생성 (개념 + 물리적 스키마 예시)
CREATE TABLE users (
    user_id INT PRIMARY KEY AUTO_INCREMENT,
    name VARCHAR(50) NOT NULL,
    email VARCHAR(100) UNIQUE,
    age INT CHECK (age >= 0),
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP
);
```

```sql
-- 관계 예시 (외래키)
CREATE TABLE orders (
    order_id INT PRIMARY KEY AUTO_INCREMENT,
    user_id INT,
    total_price DECIMAL(10, 2),
    FOREIGN KEY (user_id) REFERENCES users(user_id)
);
```

---

## 🔍 12. 데이터 모델 vs 스키마 비교

| 구분 | 데이터 모델                  | 스키마               |
| -- | ----------------------- | ----------------- |
| 정의 | 데이터의 구조와 관계를 표현한 개념적 설계 | 데이터베이스의 실제 구조 정의  |
| 목적 | 설계 단계에서 데이터 구조 구상       | 구현 단계에서 데이터 구조 명시 |
| 단계 | 개념적, 논리적, 물리적 모델        | 외부, 개념, 내부 스키마    |
| 형태 | ERD, 개념도                | SQL 정의 (DDL)      |
| 변경 | 자주 변경될 수 있음             | 비교적 안정적           |

---

## 🧠 13. 핵심 요약

| 핵심 포인트          | 설명                                          |
| --------------- | ------------------------------------------- |
| **데이터 모델**      | 데이터를 구조화·표현하는 설계 방식 (ERD, 관계 모델 등)          |
| **스키마**         | DB의 구조를 정의하는 명세서 (테이블, 제약조건 등)              |
| **3단계 구조**      | 외부(뷰) - 개념(논리) - 내부(물리)                     |
| **스키마 vs 인스턴스** | 구조 vs 실제 데이터                                |
| **ER 모델 구성요소**  | 개체(Entity), 속성(Attribute), 관계(Relationship) |

---

## 📘 요약 한줄 정리

> 🔹 **데이터 모델** = “데이터의 설계도”
> 🔹 **스키마** = “데이터베이스의 구조 정의서”

---