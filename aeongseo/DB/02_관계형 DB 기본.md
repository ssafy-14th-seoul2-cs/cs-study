## 관계형 DB 기본

1. **관계형 모델(Relation Model)의 이론적 배경**
    - IBM의 수학자 E. F. Codd가 제시한 데이터 모델
    - 데이터를 관계의 집합으로 단순화함으로써 수학적 엄밀성과 논리적 독립성을 동시에 달성
2. **관계(Relation)의 수학적 정의**
    - 관계는 수학적으로 데카르트 곱의 부분집합으로 정의
    - R ⊆ D₁ × D₂ × ... × Dₙ
    - 하나의 튜플은 n개의 값으로 이루어진 순서쌍
    - 테이블은 이런 튜플들의 집합으로 표현된 관계 R
3. **데이터의 논리적 구조**
    - 순서나 중복이 없는 집합적 성질
    - 도메인 : 속성이 가질 수 있는 값의 집합 ex. {1,2,3,...,n}, {"컴공", "경영"}
    - 속성 : 도메인으로 정의된 열(column) ex. 이름, 학번
    - 튜플 : 속성들의 값으로 이루어진 행(row) ex. (1001, 홍길동, 컴공)
    - 관계 : 튜플들의 집합 ex. 학생 테이블
    - 릴레이션 스키마 : 구조적 정의(속성명, 도메인, 제약조건 등) ex. Student(student_id:int, name:varchar, major:varchar)
4. **키(Key)의 이론적 정의**
    - 슈퍼키(Super Key)
        - 릴레이션 내에서 튜플을 유일하게 식벼할 수 있는 속성들의 집합
        - R의 튜플 t₁, t₂가 있을 때, $t₁[SK] = t₂[SK] ⇒ t₁ = t₂$이면 SK는 슈퍼키
    - 후보키(Candidate Key)
        - 슈퍼키 중 불필요한 속성이 없는 최소 집합
        - 유일성 + 최소성 조건 만족
    - 기본키(Primary Key)
        - 후보키 중에서 대표로 선택된 하나의 키
    - 외래키(Foreign Key)
        - 한 릴레이션의 속성이 다른 릴레이션의 기본키를 참조하는 경우 두 릴레이션 간의 참조 무결성(Referential Integrity)을 유지하는 장치
5. **관계 연산(Relation Operations)**
    - 관계 대수(Relational Operations)
        - 관계(테이블)를 입력으로 받아 관계(테이블)를 결과로 내는 절차적 연산 집합
        - 기본 연산
            - 선택(Selection, σ) : 조건을 만족하는 튜플만 추출
                
                → σ(major='컴공')(Student)
                
            - 투영(Projection, π) : 특정 속성만 선택
                
                → π(name, major)(Student)
                
            - 합집합(∪), 교집합(∩), 차집합(-) : 집합 연산
            - 조인(Join, ⋈) : 두 관계를 공통 속성 기준으로 결합
            - 디비전(Division, ÷) : “모든 조건을 만족하는 튜플” 찾기
6. **데이터 무결성(Integrity Constaints)**
    - 데이터가 논리적으로 올바른 상태 유지하도록 하는 제약 조건
    - 개체 무결성(Entity Integrity) : 기본키는 NULL이거나 중복될 수 없음
    - 참조 무결성(Referential Integrity) : 외래키는 참조 대상의 기본키에 존재해야 함
    - 도메인 무결성(Domain Integrity) : 속성 값은 정의된 도메인 범위 내에 있어야 함
7. **정규화(Normalization)**
    - 관계형 모델의 목표 중 하나는 데이터 중복 제거와 이상(Anomaly) 방지
    - 정규화는 릴레이션을 함수적 종속(Functional Dependency)을 기준으로 분해하여 더 순수한 형태로 만드는 과정
        
        
        | 정규형 | 제거되는 종속성 | 주요 개념 |
        | --- | --- | --- |
        | 1NF | 반복 속성 제거 | 각 속성은 원자값(atomic) |
        | 2NF | 부분 함수 종속 제거 | 기본키 일부에만 의존하는 속성 제거 |
        | 3NF | 이행 함수 종속 제거 | 비-키 속성 간 종속 제거 |
        | BCNF | 결정자(dependent determinant)가 모두 후보키 | 더 엄격한 3NF |
8. **특성**
    - 데이터 독립성 : 논리적 구조와 물리적 저장 방식의 분리
    - 논리적 단순성 : 데이터 표현이 표로 통일되어 있음
    - 수학적 엄밀성 : 관계 대수와 해석으로 이론적 일관성 확보
    - 질의의 선언적 성격 : 무엇을 얻을지만 명시, 어떻게는 DBMS가 최적화