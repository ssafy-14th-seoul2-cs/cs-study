## 데이터 모델 & 스키마

### 데이터 모델

1. **정의**
    - 현실 세계의 정보를 데이터베이스가 이해할 수 있도록 추상화한 이론적 틀
    - 데이터의 구조(structure), 조작(operations), 제약조건(constraints) 세 가지 모두 포함
2. **구성 요소 (Codd의 정의)**
    - 구조(structure) : 데이터가 DB 내에서 어떻게 조직되는가 ex. 테이블, 계층, 그래프 등
    - 조작(operations) : 데이터를 어떻게 접근하고 조작할 수 있는가 ex. SELECT, JOIN 등
    - 제약(constraints) : 데이터의 무결성 보장을 위한 규칙 ex. 키 제약, 도메인 제약 등
    - 데이터 모델은 형태 + 행위 + 규칙의 구조 가짐
3. **목적**
    - 데이터 추상화(Data Abstration) : 현실 세계의 복잡성 줄여 논리적 표현으로 단순화
    - 데이터 독립성(Data Independence) : 물리적 저장 방식과 논리적 구조 분리
    - 표준화(Standardization) : DBMS가 데이터를 일관된 방식으로 처리할 수 있게 함
4. **분류**
    - 개념적 모델(Conceptual Data Model) : 현실 세계의 개체와 관계를 개념적으로 표현 ex. ER 다이어그램
    - 논리적 모델(Logical Data Model) : 특정 데이터 모델 이론에 따라 구조화 (관계형, 계층형 등) ex. 테이블/릴레이션 구조
    - 물리적 모델(Physical Data Model) : 실제 저장 장치 수준에서 구현 세부사항 정의 ex. 인덱스, 파티션, 저장 포맷
5. **주요 데이터 모델 이론**
    
    
    | 모델 | 이론적 근거 | 표현 구조 | 특징 |
    | --- | --- | --- | --- |
    | 관계형(Relational) | 집합 이론 + 1차 술어 논리 | 릴레이션(테이블) | 논리적 단순성, 데이터 독립성 우수 |
    | 계층형(Hierarchical) | 트리 이론 | 루트-자식 관계 | 접근 속도 빠르나 유연성 낮음 |
    | 망형(Network) | 그래프 이론 | 노드-링크 구조 | 복잡한 관계 표현 가능하나 관리 어려움 |
    | 객체지향(Object-Oriented) | 캡슐화, 상속 개념 | 객체 단위 | 프로그램과 DB 통합 가능 |
    | NoSQL(비관계형) | 스키마 유연성 | 문서, 키-값, 그래프 | 비정형 데이터, 확장성 중심이론 |
6. **이론적 특징**
    - 릴레이션(Relation) : 수학적 관계 = 튜플들의 집합
    - 속성(Attribute) : 도메인의 부분집합
    - 튜플(Tuple) : 각 속성의 값들의 조합
    - 키(Key) : 릴레이션에서 튜플을 유일하게 식별하는 속성 집합

### 스키마(Schema)

1. **정의적 관점**
    - 데이터 모델에 의해 정의된 구조를 DBMS 내에서 구체적으로 기술한 논리적 설계 명세(Logical Description)
2. **ANSI-SPARC 3단계 스키마 구조**
    
    
    | 스키마 유형 | 수준 | 설명 | 초점 |
    | --- | --- | --- | --- |
    | 외부 스키마 (External Schema) | 사용자 수준 | 사용자나 응용 프로그램별 관점 | View |
    | 개념 스키마 (Conceptual Schema) | 전체 DB 수준 | 전체 데이터베이스의 논리적 구조 | ER 모델 |
    | 내부 스키마 (Internal Schema) | 물리적 수준 | 실제 저장 구조와 접근 경로 정의 | 인덱스, 파일 구조 |
3. **스키마와 인스턴스의 구분**
    - 스키마 : DB의 구조적 정의(틀), 거의 변하지 않음
    - 인스턴스 : 실제 저장된 데이터의 집합, 자주 변함 (갱신, 삽입, 삭제 등)
4. **스키마의 구성 요소**
    - 릴레이션(테이블) 이름과 속성 정의
    - 데이터 타입 및 도메인 제약
    - 키 제약 (PRIMAARY, FOREIGN, UNIQUE)
    - 무결성 제약 (Entity, Referential, Domain constraints)
    - 인덱스, 뷰, 트리거, 접근 권한 등