## 인덱스

1. **개념**

- 데이터베이스 테이블에서 데이터를 빠르게 찾기 위해 사용하는 보조 데이터 구조
- 인덱스가 없다면 DBMS는 데이터 찾기 위해 모든 행을 처음부터 끝까지 탐색(Full Table Scan)해야 함
- 인덱스 있으면 인덱스 자료 구조를 먼저 탐색하여 해당 데이터가 있는 위치(주소)를 찾아 그 위치로 바로 접근 → 훨씬 빠름

2. **내부 구조(Structure)**

- 대부분의 DBMS는 B-Tree 구조로 인덱스 저장
- B-Tree 인덱스의 기본 구성
    - 루트 노드 : 취상위 노드, 탐색의 시작점
    - 브랜치 노드 : 중간 노드, 탐색 경로 결정
    - 리프 노드 : 실제 데이터(또는 데이터의 위치 포인터) 저장
- 키 값 기준으로 정렬되어 있음, 탐색 시 O(logN) 시간 복잡도로 원하는 값 찾음

3. **인덱스의 동작 원리**

- 검색 시
    - DB는 인덱스 구조를 먼저 탐색하여 조건에 맞는 행의 위치(RowID) 찾음
    - 그 후 테이블의 실제 데이터 블록으로 이동해서 값 읽음 (⇒ Table Access by Index RowID)
- 삽입/삭제/수정 시
    - 인덱스도 함께 갱신되어야 함
    - DML(INSERT, UPDATE, DELETE)이 자주 일어나는 컬럼엔 인덱스 남용 금지

4. **인덱스의 장단점**

- 장점
    - 검색 속도 향상 (특히 WHERE, JOIN ORDER BY, GROUP BY)
    - 고유성(UNIQUE INDEX) 보장 가능
    - 정렬된 순서 유지 가능 → RANGE 검색에 유리
- 단점
    - 인덱스 생성, 유지에 추가적인 저장 공간 필요
    - 데이터 변경 시 인덱스도 갱신해야 함 → 쓰기 성능 저하
    - 너무 많은 인덱스는 오히려 성능 저하 유발

5. **인덱스 종류**

- 기본 인덱스(Primary Index) : PRIMARY KEY에 자동 생성
- 보조 인덱스(Secondary Index) : 사용자가 임의로 생성
- 고유 인덱스(Unique Index) : 중복값 허용 X
- 복합 인덱스(Composite Index) : 여러 컬럼을 결합한 인덱스
- 클러스터형 인덱스(Clustered Index) : 데이터 자체가 인덱스 순서로 저장됨
- 비클러스터형 인덱스(Non-Clustered) : 인덱스와 데이터가 분리되어 있음