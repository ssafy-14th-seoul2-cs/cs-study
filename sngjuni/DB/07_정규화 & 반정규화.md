# 정규화 & 반정규화

## 정규화 & 반정규화 (Normalization & Denormalization)

---

**정의**

- **정규화(Normalization)**: 데이터의 **중복을 최소화하고 이상현상(Anomaly)을 방지**하기 위해 테이블을 분해하는 과정
- **반정규화(Denormalization)**: 조회 성능 향상을 위해 **일부 중복을 허용하거나 테이블을 병합**하는 설계 기법

---

**핵심 내용**

1. **정규화의 목적**
    - 데이터의 **일관성(Consistency)** 유지
    - **삽입(Insert)**, **갱신(Update)**, **삭제(Delete)** 이상현상(Anomaly) 방지
    - 데이터 중복 최소화로 저장 공간 절약
2. **정규화 단계**
    
    
    | 단계 | 기준 | 설명 |
    | --- | --- | --- |
    | **1정규형 (1NF)** | 원자값(Atomic Value) | 하나의 컬럼에는 하나의 값만 존재해야 함 |
    | **2정규형 (2NF)** | 부분 함수 종속 제거 | 기본키 일부에만 종속된 속성 제거 |
    | **3정규형 (3NF)** | 이행적 함수 종속 제거 | 비키 속성이 다른 비키 속성에 종속된 경우 제거 |
    | **BCNF** | 결정자가 후보키가 아닌 경우 제거 | 3NF보다 더 강한 형태의 정규화 |
    
    → 단계가 높을수록 중복은 줄어들지만, 조인(Join)이 많아져 성능이 저하될 수 있음.
    
3. **반정규화의 개념**
    - **조회 성능 향상**을 위해 정규화를 일부 해제하는 설계 기법
    - 데이터 중복을 허용해 **조인 비용을 줄이는 대신, 수정 비용이 증가**
    - 주로 OLTP보다는 **OLAP(분석 시스템)** 환경에서 사용됨
4. **반정규화 방법**
    - **테이블 병합**: 자주 조인되는 테이블을 하나로 합침
    - **중복 컬럼 추가**: 자주 조회되는 값을 다른 테이블에 복사
    - **통계 테이블 생성**: 계산이 반복되는 결과를 미리 저장

---

**특징**

- 정규화: 데이터 구조의 **논리적 일관성** 강화
- 반정규화: **조회 속도 최적화**에 초점
- 실제 설계에서는 **두 기법을 적절히 혼합**하여 사용

---

**장단점**

- **정규화**
    - ✅ 장점: 데이터 중복 최소화, 무결성 보장
    - ❌ 단점: 조인 연산 증가로 조회 성능 저하 가능
- **반정규화**
    - ✅ 장점: 조회 성능 향상, 조인 비용 감소
    - ❌ 단점: 데이터 중복 증가, 갱신 시 불일치 가능성 증가

---

## 관련 면접 질문

- 정규화란 무엇이며 왜 필요한가요?
    - 데이터 중복을 최소화하고 삽입·삭제·갱신 이상현상을 방지하기 위해 테이블을 구조적으로 분리하는 과정
- 정규화의 단점은 무엇인가요?
    - 테이블이 분리되어 조인 연산이 많아지고, 그로 인해 조회 성능이 저하될 수 있음.
- 반정규화는 언제 사용하는가요?
    - 조회 빈도가 높거나 실시간 성능이 중요한 시스템에서, 조인 비용을 줄이기 위해 제한적으로 적용