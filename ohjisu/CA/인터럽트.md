### π“ ν•μ¤„ μ •λ¦¬

μΈν„°λ½νΈλ” **CPUκ°€ ν”„λ΅κ·Έλ¨ μ‹¤ν–‰ μ¤‘μ— μ™Έλ¶€Β·λ‚΄λ¶€ μ”μ²­ μ‹ νΈλ¥Ό λ°›μΌλ©΄  ν„μ¬ μ‘μ—…μ„ μ¤‘λ‹¨ν•κ³  μ°μ„  μμ„κ°€ λ†’μ€ λ‹¤λ¥Έ ν”„λ΅κ·Έλ¨μ—κ² CPUλ¥Ό ν• λ‹Ήν•΄μ„ μ‹¤ν–‰ν•λ” λ©”μ»¤λ‹μ¦**μ΄λ‹¤.

---

### μΆ…λ¥

---

1. **λ‚΄λ¶€ μΈν„°λ½νΈ (νΈλ©, μμ™Έ)**
    - ν”„λ΅κ·Έλ¨ μ‹¤ν–‰ μ¤‘ μ¤λ¥ λ°μƒ
    - μ: 0μΌλ΅ λ‚λ„κΈ°, μ¤λ²„ν”λ΅μ°
        - ν”„λ΅κ·Έλ¨ μΈν„°λ½νΈ
            - Over Flow : κ³„μ‚° μ‹ μλ¦¬ λ„μΉ¨μΌλ΅ μΈν•΄ μ“°κΈ°κ°€ ν—κ°€λμ§€ μ•μ€ λ©”λ¨λ¦¬ μμ—­μ— μ•΅μ„Έμ¤ν–μ„ λ• ν”„λ΅κ·Έλ¨ μΈν„°λ½νΈκ°€ λ°μƒν•¨
            - κ·Έ λ°–μ—, νμ΄μ§€ ν΄νΈ, νΈλ μ΄μ¤, μνΌλ°”μ΄μ € μ½, λ…λ Ή μ½”λ“ μ΄μƒ λ“±μ΄ μμ
2. **μ™Έλ¶€ μΈν„°λ½νΈ**
    - μ£Όλ³€ κΈ°κΈ°μ μ…μ¶λ ¥ λ™μ‘μ΄λ‚ ν•λ“μ›¨μ–΄ κ³ μ¥, μ¤μ‘λ™μΌλ΅ μΈν•΄ μΌμ–΄λ‚λ” μΈν„°λ½νΈ
        - κΈ°κ³„ μ²΄ν¬ μΈν„°λ½νΈ: μ „μ› μ΄μƒ, ν•λ“μ›¨μ–΄ μ¥μ• 
        - νƒ€μ΄λ¨Έ μΈν„°λ½νΈ: μΌμ • μ‹κ°„ νΉμ€ μΌμ • μ‹κ°„ λ§λ‹¤ λ°μƒ
        - μ…μ¶λ ¥ μΈν„°λ½νΈ: μ£Όλ³€ κΈ°κΈ°μ μƒνƒκ°€ λ³€ν™”ν–μ„ μ‹
        - μ½μ†” μΈν„°λ½νΈ: μ‚¬μ©μκ°€ μ…μ¶λ ¥ μ¥μΉ μ΅°μ‘ μ‹

### **μΈν„°λ½νΈκ°€ μ—†λ” μ„Έμƒ (ν΄λ§, Polling λ°©μ‹)**

---

CPUκ°€ κ³„μ†ν•΄μ„ ν„μ¬ ν”„λ΅κ·Έλ¨μ— λ¶ν•„μ”ν• λ™μ‘μ„ ν™•μΈν•μ—¬ μ—λ„μ§€λ¥Ό λ‚­λΉ„ν•κ² λλ” λ°©μ‹μ΄λ‹¤.
λ”°λΌμ„μΈν„°λ½νΈλ” CPUκ°€ λ¶ν•„μ”ν• ν™•μΈ μ‘μ—…μ„ ν•μ§€ μ•κ³  μμ‹ μ μ¤‘μ”ν• μ—°μ‚°μ— μ§‘μ¤‘ν•  μ μλ„λ΅ λ§λ“¤μ–΄μ£Όλ”, **μ‹μ¤ν…μ ν¨μ¨μ„±μ„ κ·Ήλ€ν™”ν•λ” ν•µμ‹¬ λ©”μ»¤λ‹μ¦**μ΄λ‹¤.

### μ¤‘λ‹¨λ μ²λ¦¬ λ‚΄μ©μ€ μ–Έμ , μ–΄λ–»κ² μ²λ¦¬λλ‚?

---

CPUλ” ν•λ‚μ λ…λ Ήμ–΄λ¥Ό μ‹¤ν–‰ μ™„λ£ν•κ³ , λ‹¤μ λ…λ Ήμ–΄λ¥Ό μ‹¤ν–‰ν•κΈ° μ§μ „μ μ•„μ£Ό μ§§μ€ μκ°„μ— μΈν„°λ½νΈ μ‹ νΈκ°€ μλ”μ§€ ν™•μΈν•λ‹¤. μ‹ νΈκ°€ μλ‹¤λ©΄, μ•„λμ™€ κ°™μ€ κ³Όμ •μ΄ μ§„ν–‰λλ‹¤.

1. **ν„μ¬ μ‘μ—… μƒνƒ μ €μ¥ (Save State):**
    - μ»΄ν“¨ν„°μ—μ„λ” ν„μ¬ μ‹¤ν–‰ μ¤‘μ΄λ λ…λ Ήμ–΄μ μ£Όμ†(PC, Program Counter), κ³„μ‚° μ¤‘κ°„κ°’ λ“±μ΄ μ €μ¥λ λ μ§€μ¤ν„°(Register) κ°’λ“¤μ„ **λ©”λ¨λ¦¬(μ£Όλ΅ μ¤νƒ μμ—­)λ‚ ν”„λ΅μ„Έμ¤ μ μ–΄ λΈ”λ΅(PCB)μ— μ μ‹ μ €μ¥**ν•΄ λ‘”λ‹¤.
2. **μΈν„°λ½νΈ μ›μΈ νμ•… λ° ν•Έλ“¤λ¬ νΈμ¶ (Find Handler):**
3. **μΈν„°λ½νΈ μ„λΉ„μ¤ λ£¨ν‹΄ μ‹¤ν–‰ (Execute ISR):**
4. **μ›λ μ‘μ—… μƒνƒ λ³µκµ¬ (Restore State):**
    - μΈν„°λ½νΈ μ²λ¦¬κ°€ λλ‚λ©΄, 1λ‹¨κ³„μ—μ„ μ €μ¥ν•΄λ‘μ—λ λ…λ Ήμ–΄ μ£Όμ†(PC)μ™€ λ μ§€μ¤ν„° κ°’λ“¤μ„ λ‹¤μ‹ CPUλ΅ λ¶λ¬μ¨λ‹¤.
5. **μ›λ μ‘μ—…μΌλ΅ λ³µκ·€ (Return to Task):**
    - CPUλ” μ•„λ¬΄ μΌλ„ μ—†μ—λ‹¤λ” λ“―μ΄, μ¤‘λ‹¨λμ—λ λ°”λ΅ κ·Έ μ§€μ λ¶€ν„° μ›λ ν•λ ν”„λ΅κ·Έλ¨μ λ‹¤μ λ…λ Ήμ–΄λ¥Ό μ‹¤ν–‰ν•κΈ° μ‹μ‘ν•λ‹¤.

---

> **λ¬Έλ§¥ κµν™(Context Switching)**

**λ¬Έλ§¥ κµν™**μ€ CPUκ°€ μ²λ¦¬ν•λ” λ€μƒμ„ ν”„λ΅μ„Έμ¤ Aμ—μ„ ν”„λ΅μ„Έμ¤ Bλ΅ λ°”κΏ€ λ•, λ‹¤μκ³Ό κ°™μ€ μΌμ΄ μΌμ–΄λ‚λ” κ²ƒμ„ λ§ν•λ‹¤.
> 
> 1. ν”„λ΅μ„Έμ¤ Aμ **λ¬Έλ§¥**μ„ μ–΄λ”κ°€(Aμ PCB)μ— **μ €μ¥**ν•λ‹¤.
> 2. ν”„λ΅μ„Έμ¤ Bμ **λ¬Έλ§¥**μ„ μ–΄λ”κ°€(Bμ PCB)μ—μ„ κ°€μ Έμ™€ CPUμ— **λ΅λ“**ν•λ‹¤.
> - **Process Control Block(ν”„λ΅μ„Έμ¤ μ μ–΄ λΈ”λ΅)**
>     
>     μ΄μμ²΄μ κ°€ νΉμ • ν”„λ΅μ„Έμ¤λ¥Ό κ΄€λ¦¬ν•κΈ° μ„ν•΄ ν•„μ”ν• λ¨λ“  μ •λ³΄λ¥Ό λ‹΄κ³  μλ” **'λ°μ΄ν„° λ©μ–΄λ¦¬'** λλ” 'λ…μ°°β€™
>     

---

- λ¬Έλ§¥(Context)μ΄λ€ 'νΉμ • ν”„λ΅κ·Έλ¨μ΄ μ‹¤ν–‰λκΈ° μ„ν•΄ ν•„μ”ν• λ¨λ“  μ •λ³΄'λ¥Ό λ»ν•λ‹¤. ν”„λ΅κ·Έλ¨ μΉ΄μ΄ν„°(PC), λ μ§€μ¤ν„° κ°’, μ‚¬μ©ν•λ λ©”λ¨λ¦¬ μ •λ³΄ λ“±μ„ λ¨λ‘ ν¬ν•¨ν•λ” κ°λ…μ΄λ‹¤.
- λ¬Έλ§¥ κµν™μ€ νƒ€μ΄λ¨Έ μΈν„°λ½νΈ(Timer Interrupt)μ™€ μ§μ ‘μ μΈ κ΄€λ ¨μ΄ μλ‹¤.
- μ»΄ν“¨ν„°λ” CPUκ°€ ν•λ‚λΌλ„ μ—¬λ¬ ν”„λ΅κ·Έλ¨(μ›Ή λΈλΌμ°μ €, μμ•… ν”λ μ΄μ–΄, μ½”λ“ μ—λ””ν„° λ“±)μ΄ λ™μ‹μ— μ‹¤ν–‰λλ” κ²ƒμ²λΌ λ³΄μΈλ‹¤. μ΄λ” μ΄μμ²΄μ κ°€ μ•„μ£Ό μ§§μ€ μ‹κ°„(μ: 0.01μ΄)λ§λ‹¤ νƒ€μ΄λ¨Έ μΈν„°λ½νΈλ¥Ό λ°μƒμ‹μΌ CPUλ¥Ό μ‚¬μ©ν•  ν”„λ΅κ·Έλ¨μ„ κ°•μ λ΅ κµμ²΄ν•κΈ° λ•λ¬Έμ΄λ‹¤.
- μ‘λ™ κ³Όμ •μ€ λ‹¤μκ³Ό κ°™λ‹¤.
    1. μ›Ή λΈλΌμ°μ €κ°€ CPUλ¥Ό μ‚¬μ©ν•κ³  μλ‹¤.
    2. νƒ€μ΄λ¨Έ μΈν„°λ½νΈκ°€ λ°μƒν•λ‹¤.
    3. μ΄μμ²΄μ μ μ¤μΌ€μ¤„λ¬(Scheduler) μ½”λ“κ°€ μ‹¤ν–‰λλ‹¤.
    4. μ¤μΌ€μ¤„λ¬λ” λ‹¤μμ— μ‹¤ν–‰ν•  ν”„λ΅μ„Έμ¤λ΅ μμ•… ν”λ μ΄μ–΄λ¥Ό κ²°μ •ν•λ‹¤.
    5. λ¬Έλ§¥ κµν™μ΄ λ°μƒν•μ—¬, μ›Ή λΈλΌμ°μ €μ μƒνƒ(λ¬Έλ§¥)λ¥Ό μ €μ¥ν•κ³  μμ•… ν”λ μ΄μ–΄μ μƒνƒ(λ¬Έλ§¥)λ¥Ό λ΅λ“ν•λ‹¤.
    6. μμ•… ν”λ μ΄μ–΄κ°€ μ μ‹ μ‹¤ν–‰λλ‹¤.
    7. λ‹¤μ‹ νƒ€μ΄λ¨Έ μΈν„°λ½νΈκ°€ λ°μƒν•λ©° μ΄ κ³Όμ •μ΄ λ°λ³µλλ‹¤.

μ΄ κ³Όμ •μ΄ λ§¤μ° λΉ λ¥΄κ² λ°λ³µλλ―€λ΅ λ¨λ“  ν”„λ΅κ·Έλ¨μ΄ λ™μ‹μ— μ‹¤ν–‰λλ” κ²ƒμ²λΌ λ³΄μ΄λ” λ©€ν‹°νƒμ¤ν‚Ή(Multitasking)μ΄ κ°€λ¥ν•λ‹¤.

μ¦‰, μΈν„°λ½νΈλ” λ¬Έλ§¥ κµν™μ„ μΌμΌν‚¤λ” **'λ°©μ•„μ‡ (Trigger)' μ—­ν• **μ„ ν•λ‹¤.