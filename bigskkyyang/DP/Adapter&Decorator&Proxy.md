# 어댑터(Adapter), 데코레이터(Decorator), 프록시(Proxy) 패턴 정리

---

## 1. 어댑터(Adapter) 패턴

### 개념
서로 **인터페이스(형태)가 맞지 않는 두 객체를 연결**해 주는 패턴. 기존 코드를 수정하기 어렵거나, 외부 라이브러리처럼 “형태가 정해져 있는 코드”를 새로운 방식으로 사용해야 할 때 활용한다.

### 왜 필요한가?
- 기존 클래스의 코드를 바꾸기 어렵거나 불가능할 때  
- 이미 만들어진 객체를 **새 환경이나 새 인터페이스에 맞춰야 할 때**  
- 레거시 코드와 새로운 시스템을 연결해야 할 때

### 특징
- 어댑터가 사이에 끼어 **형식 변환만 담당**한다.  
- 실제 기능은 원래 객체가 수행한다.  
- 기존 객체의 구현을 바꾸지 않아도 된다.  
- 구조를 유지한 채 확장하거나 호환성을 제공하고 싶을 때 적합하다.

### 비유
- 해외에서 콘센트 모양이 달라서 돼지코 어댑터를 사용하는 상황  
- USB-C 포트만 있는 노트북에 USB-A 마우스를 연결하기 위해 변환 젠더를 쓰는 느낌  
→ “기존 물건은 그대로 두고, 연결 방식만 바꾼다.”

---

## 2. 데코레이터(Decorator) 패턴

### 개념
기존 객체의 **핵심 동작은 그대로 유지하면서**, 필요에 따라 기능을 **겹겹이 추가**하는 패턴. 상속을 계속 늘리는 방식 대신 “조립하듯” 기능을 붙일 수 있다.

### 왜 필요한가?
- 기능을 상황에 따라 유연하게 추가·삭제하고 싶을 때  
- 상속을 사용하면 클래스 개수가 폭발적으로 늘어나기 때문에  
  (예: 커피 + 휘핑 + 샷 + 시럽 조합이 무한히 늘어날 때)  
- 기본 객체 구조는 유지하면서도 확장성이 필요할 때  
- 런타임에 기능 조합을 바꿀 수 있어야 할 때

### 특징
- 객체를 **감싸는(wrap)** 방식으로 기능을 확장한다.  
- 여러 데코레이터를 조합할 수 있다.  
- 기능을 추가해도 기존 객체 코드를 수정하지 않는다.  
- “한 단계씩 포장하면서 기능이 누적되는 구조”를 만든다.

### 비유
- 기본 아메리카노에 샷, 시럽, 휘핑 등을 올리며 기능을 추가하는 것  
- 선물 상자에 포장을 추가로 감싸면서 장식을 붙이는 모습

---

## 3. 프록시(Proxy) 패턴

### 개념
진짜 객체에 직접 접근하기 전에 **대리 객체(Proxy)** 를 두어, 요청을 먼저 받아 처리하거나 조건을 확인한 뒤 실제 객체에 전달하는 패턴.  
“접근 제어”, “부가 기능 추가”, “지연 로딩” 같은 목적으로 자주 사용된다.

### 왜 필요한가?
- 실제 객체가 너무 무겁고 리소스를 많이 사용할 때  
  → 필요할 때만 생성하기 위한 **지연 로딩(Lazy Loading)**  
- 민감한 객체에 접근을 제한하고 싶을 때  
  → 인증/권한 체크  
- 여러 요청을 캐싱하거나 로그를 남기고 싶을 때  
  → 앞단에서 공통 기능을 처리  
- 원격 서버나 네트워크 객체를 다루기 위해 중간 계층이 필요할 때  
  → 원격 프록시(Remote Proxy)

### 특징
- 프록시는 진짜 객체의 **대리인** 역할을 한다.  
- 클라이언트는 프록시가 진짜 객체인지 구분하지 못한다.  
- 부가 기능(로깅/캐싱/권한 확인 등)을 실제 객체 호출 전후로 추가할 수 있다.  
- 실제 객체의 생명주기를 제어하거나 접근을 통제할 수 있다.

### 비유
- 병원에서 환자가 바로 의사를 만나지 않고 접수창구(프록시)를 먼저 지나가는 구조  
- 회사 임원에게 직접 연락하기 전에 비서가 대신 이메일을 받아 정리해주는 구조  
- 영상 스트리밍에서 실제 서버 대신 캐시 서버가 먼저 응답하는 구조

---
