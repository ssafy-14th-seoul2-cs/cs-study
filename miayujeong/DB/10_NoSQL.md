## 📖 NoSQL (Not Only SQL)

### NoSQL이란?

- 기존 관계형 데이터베이스(RDBMS)의 한계를 보완하기 위해 등장한 비관계형 데이터베이스
- 스키마가 고정되지 않고, 대량의 데이터를 **수평 확장(Scale-out)** 방식으로 처리하는 데 최적화

<br>

### 특징

- 스키마 유연
- 노드 추가로 성능 확장
- 복제(replication) 기반으로 높은 가용성
- 분산 환경 적합
- 대규모 데이터(빅데이터), 실시간 처리에 강함
- 다양한 데이터 모델

<br>

### NoSQL 등장 배경

#### RDBMS의 한계 

|  |  |
| --- | --- |
| **스키마 고정** | Column 구조 변경 어려움 |
| **트랜잭션 중심** | 웹/모바일 환경의 대규모 요청 처리에 비효율적 |
| **수직 확장 한계** | Scale-Up은 비용이 급증 |
| **조인 연산 비용** | 복잡한 조인 → 성능 저하 |
| **빅데이터·분산환경 부적합** | 글로벌 서비스에는 Latency 문제가 큼 |

⇒ 수평 확장 + 단순 구조 + 다양한 데이터 모델을 가진 DB의 필요성 → **NoSQL** 

<br>

## 📖 NoSQL 주요 개념

### 비일관성

- vs. RDBMS: ACID 충족, 일관성 보장
- 데이터를 분산 저장하므로, 한 영역의 Update 내용을 실시간으로 다른 영역에 반영하기 어려움

<br>

### 분산 저장

- 수평적 확장(장비의 수를 늘려 분산)을 바탕으로 대량 데이터와 컴퓨팅 부하 처리
- vs. RDBMS: 수직적 확장 (장비의 성능을 확장)
- 대량 데이터와 트래픽 환경에서 수직적 확장의 한계 극복

<br>

### Schema-less

- 스키마 없이 동작하여 데이터 구조를 미리 정의할 필요 X
- 비형식적 데이터 저장에 용이
- 단, 데이터 타입에 따른 암묵적인 스키마는 존재하기에 의도치 않게 데이터 불일치가 발생할 수 있음에 주의

<br>

### BASE 원칙

- vs. RDBMS의 ACID
- 유연한 접근을 제공

|  |  |
| --- | --- |
| **Basically Available** | 언제나 응답을 돌려줌 |
| **Soft-state** | 저장 상태가 중간에 변경될 수 있음 |
| **Eventually Consistent** | 최종적으로 일관성 보장 |

<br>

## 📖 NoSQL 데이터 모델 유형

### Key-Value Store

- 가장 단순한 형태
- Key로 Value를 조회하는 방식
- 캐싱·세션 저장·실시간 데이터 처리에 적합

<br>

### Document Store

- JSON, BSON과 같은 문서(Document)를 저장
- 스키마가 없고, 중첩 구조 가능
- 복잡한 구조의 데이터를 유연하게 저장 가능

<br>

### Wide Column Store

- 테이블·열(column) 기반이지만 RDB와 다르게 **각 row가 다른 컬럼 구조**를 가질 수 있음
- 대규모 트래픽, 로그 분석, 시계열 데이터에 강함

<br>

### Graph Database

- Node와 Edge로 데이터를 저장
- 관계(relationship)를 빠르게 탐색하는 데 최적화

<br>

## 📖 NoSQL 장단점

### 장점

|  |  |
| --- | --- |
| **수평 확장(Scale-out)이 매우 쉬움** | 서버(노드)를 추가하는 것만으로 처리량 증가 |
| **스키마 유연(Schema-less)** | 컬럼 구조를 미리 정의하지 않아도 됨 → JSON/문서 기반으로 빠르게 개발 가능 |
| **고가용성(High Availability)** | 복제(Replication)를 기본 제공 → 일부 노드 장애에도 서비스 지속 가능 |
| **빅데이터 처리에 강함** | 대용량 데이터·고속 쓰기 작업(Logging, IoT 데이터)에 탁월 |
| **지리적 분산에 최적화** | 전세계 여러 지역에 데이터를 분산 저장 → 글로벌 서비스에 강함 |
| **단순 조회 성능 우수** | 테이블을 크게 나누지 않아 빠른 Read/Write 가능 |
| **유연한 데이터 모델** | 다양한 데이터 구조 지원 |

<br>

### 단점

|  |  |
| --- | --- |
| **트랜잭션(ACID) 지원 부족** | 일부 DB는 트랜잭션을 거의 지원하지 않거나 약하게만 지원 → 금융·주문 시스템 부적합 |
| **즉시 일관성 부족** | 데이터 동기화에 시간 지연 발생 가능 |
| **조인 미지원 or 비효율적** | 복잡한 관계형 조회는 RDB보다 느리고 구조적으로 어려움 |
| **SQL처럼 표준화된 쿼리 언어 부재** | DB마다 쿼리 문법 다름 |
| **데이터 중복 가능성 증가** | 정규화가 약함 |
| **운영/튜닝 난이도 높음** | 샤딩, 리플리케이션, 일관성 레벨 등 분산 시스템 개념 필요 |
| **관계형 모델보다 데이터 무결성 약함** | PK/FK 제약, 스키마 제약 등 부족해 애플리케이션에서 검증 필요 |

<br>

## 📖 NoSQL 적용

### NoSQL이 적합한 상황

| 상황 | 이유 |
| --- | --- |
| **데이터 구조가 자주 변경됨** | 스키마가 유연함 |
| **초대규모 트래픽 처리** | 수평 확장 쉬움 |
| **복잡한 조인 대신 단순 조회 중심** | Joins 최소화 |
| **글로벌 분산 환경** | 지리적 분산에 강함 |
| **캐싱·세션관리** | Key-Value DB 강점 |

<br>

### RDBMS vs. NoSQL

| 구분 | RDBMS | NoSQL |
| --- | --- | --- |
| 스키마 | 고정 | 유연 (Schema-less) |
| 데이터 모델 | 테이블 기반 | Key-Value / Document / Column / Graph |
| 확장성 | 수직 확장 (Scale-up) | 수평 확장 (Scale-out) |
| 일관성 | Strong Consistency | Eventual Consistency 중심 |
| 트랜잭션 | ACID 보장 | BASE 모델 (Eventually Consistent) |
| 조인 | 강점 | 약함 |
| 사용 사례 | 금융, 주문 시스템 | SNS, 로그 수집, 빅데이터 |
