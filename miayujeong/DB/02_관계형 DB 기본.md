## 📖 관계형 모델 (Relational Model)

> 데이터를 표(table) 형태로 표현하고, 각 테이블 간 관계를 통해 데이터를 관리하는 데이터 모델
> 
> 
> 오늘날 가장 널리 쓰이는 데이터베이스 구조
> 
- 데이터를 관계(relation)라는 개념으로 표현하는 데이터 모델
- 수학적 기초로는 집합 이론(set theory), 1차 술어 논리(predicate logic) 기반
- 데이터의 구조, 의미, 제약을 함께 기술

### 기본 구성 요소

<img src="images/DB_01_4.png">

| 구성요소 | 설명 | SQL에서의 대응 |
| --- | --- | --- |
| **Relation (관계)** | 데이터를 저장하는 하나의 테이블 | TABLE |
| **Tuple (튜플)** | 테이블의 한 행(row) | RECORD |
| **Attribute (속성)** | 테이블의 한 열(column) | COLUMN |
| **Domain (도메인)** | 각 속성이 가질 수 있는 값의 범위 | 데이터 타입, CHECK 제약 |
| **Instance (인스턴스)** | 특정 시점의 실제 데이터 | 테이블 내 행들의 집합 |

<br>

### 관계형 모델의 4가지 속성

- **모든 튜플은 유일(unique)** 해야 한다.
- **튜플의 순서는 무관**하다. (행의 순서 중요 X)
- **속성의 순서도 무관**하다. (열의 순서 중요 X)
- **속성 값은 원자적(atomic)** 이어야 한다.

<br>

### 키 (Key)

: 테이블 내 튜플을 고유하게 식별하기 위한 속성 또는 속성들의 조합

| 키 종류 | 설명 | 예시 |
| --- | --- | --- |
| **슈퍼키 (Super Key)** | 튜플을 유일하게 식별할 수 있는 속성 집합 | {학번}, {학번, 이름} |
| **후보키 (Candidate Key)** | 최소한의 속성으로 구성된 슈퍼키 | {학번} |
| **기본키 (Primary Key)** | 후보키 중 대표로 선택된 키 (NULL 불가, 중복 불가) | 학번 |
| **대체키 (Alternate Key)** | 기본키로 선택되지 않은 나머지 후보키 | 이메일 |
| **외래키 (Foreign Key)** | 다른 테이블의 기본키를 참조하는 속성 | 주문 테이블의 고객 ID |

#### 기본키 조건

- 각 튜플을 고유하게 식별 가능
- NULL 값을 가질 수 없음

#### NULL 값의 의미

- NULL 은 모든 도메인에 포함될 수 있는 특수한 값
- 2가지 의미:
    - 아직 값을 모름 (unknown)
    - 해당사항 없음 (not applicable)

<br>

### 무결성 제약조건 (Integrity Constraints)

: 데이터의 무결성 (integrity)을 유지하기 위해 데이터가 지켜야 하는 규칙

| 구분 | 설명 | 예시 |
| --- | --- | --- |
| **개체 무결성 (Entity Integrity)** | 기본키는 NULL일 수 없음 | 학번은 반드시 존재해야 함 |
| **참조 무결성 (Referential Integrity)** | 외래키는 존재하는 기본키만 참조 | 없는 고객 ID 주문 금지 |
| **도메인 무결성 (Domain Integrity)** | 속성 값은 지정된 타입과 범위를 지켜야 함 | 나이는 정수, 0보다 커야 함 |
| **사용자 정의 무결성 (User-defined Integrity)** | 업무 규칙 기반의 제약 | 급여는 100만 원 이상이어야 함 |
- 개체/참조 무결성은 필수
- 나머지는 설계에 따라 추가 정의 가능

<br>

### 관계형 데이터 연산

- 관계형 모델에서 데이터를 조작하는 방법은 수학적 연산 기반
- SQL의 근본이 되는 이론

#### 관계대수 (Relational Algebra)

| 연산 | 기호 | 설명 |
| --- | --- | --- |
| **선택 (Selection)** | σ | 조건에 맞는 행(row) 선택 |
| **투영 (Projection)** | π | 필요한 열(column)만 선택 |
| **합집합 (Union)** | ∪ | 두 관계의 합집합 |
| **교집합 (Intersection)** | ∩ | 공통된 튜플 |
| **차집합 (Difference)** | − | 첫 관계에만 존재하는 튜플 |
| **조인 (Join)** | ⨝ | 두 관계를 공통 속성으로 연결 |
| **카티션곱 (Cross Product)** | × | 가능한 모든 조합 생성 |
- SQL에서 `SELECT`, `JOIN`, `UNION`, `INTERSECT` 등의 연산이 관계대수의 구현체

<br>

### 관계형 DB 장점

| 항목 | 설명 |
| --- | --- |
| **데이터 독립성** | 물리적 구조 변경이 논리적 설계에 영향 없음 |
| **데이터 무결성** | 제약조건을 통해 데이터 일관성 보장 |
| **데이터 중복 최소화** | 정규화 과정을 통해 불필요한 중복 제거 |
| **데이터 표준화** | SQL을 통한 표준화된 접근 방식 |
| **확장성과 호환성** | 다양한 애플리케이션, 언어, 시스템과 호환 가능 |

<br>

### 관계형 DB vs. 비관계형 DB

| 구분 | 관계형 DB (RDB) | 비관계형 DB (NoSQL) |
| --- | --- | --- |
| 구조 | 고정된 스키마 (테이블, 열, 행) | 스키마 유연 (Document, Key-Value 등) |
| 확장성 | 수직적 확장(Scale-up) | 수평적 확장(Scale-out) |
| 트랜잭션 | ACID 보장 | BASE 성질 (가용성 중시) |
| 예시 | MySQL, PostgreSQL | MongoDB, Redis, Cassandra |
| 활용 | 정형 데이터에 적합 | 비정형 데이터에 적합 |

<br>

## 📖 RDBMS (Relational Database Management System)

: 관계형 모델을 기반으로 데이터를 저장, 관리, 제어하는 시스템 소프트웨어

- 데이터 저장, 수정, 조회, 삭제 담당
- 사용자와 데이터베이스 간 인터페이스 역할 수행
- 트랜잭션 관리, 동시성 제어, 보안, 복구 등의 기능 제공

### RDBMS 주요 구성 요소

| 구성 요소 | 역할 |
| --- | --- |
| **데이터 저장기 (Storage Manager)** | 물리적 저장 관리 (파일, 인덱스, 버퍼) |
| **질의 처리기 (Query Processor)** | SQL 해석 및 최적화, 실행 |
| **트랜잭션 관리자 (Transaction Manager)** | ACID 보장, 동시성 제어 |
| **복구 관리자 (Recovery Manager)** | 장애 발생 시 복구 수행 |
| **데이터 사전 (Data Dictionary)** | 스키마, 인덱스 등 메타데이터 저장 |

<br>

### 주요 RDBMS 예시

| 구분 | 예시 | 특징 |
| --- | --- | --- |
| 오픈소스 | **MySQL**, **PostgreSQL**, **SQLite** | 가볍고 무료, 커뮤니티 활발 |
| 상용 | **Oracle DB**, **MS SQL Server** | 안정성과 성능 높음, 기업용 |
| 클라우드형 | **AWS RDS**, **Google Cloud SQL** | 자동 백업, 스케일링 지원 |

<br>

### DBMS vs. RDBMS

|  | DBMS | RDBMS |
| --- | --- | --- |
| 데이터 구조 | 파일 기반, 단순 컬렉션 | 테이블 기반 |
| 관계 표현 | 직접 관계 표현 어려움 | 외래키로 관계 표현 |
| 중복 제어 | 응용단 처리 | 제약조건으로 자동 제어 |
| 트랜잭션 | 단순 처리 | ACID 보장 |